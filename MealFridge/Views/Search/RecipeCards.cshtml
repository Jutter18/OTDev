@model IEnumerable<Recipe>

@if (Model != null)
{
    @foreach (var r in Model)
    {
        var temp = r.Savedrecipes.FirstOrDefault() ?? new Savedrecipe()
        {
            Shelved = false,
            Favorited = false,
        };
        @if (temp.Shelved ?? false)
        {
            continue;
        }
<div class="card shadow-lg">
    <button class="btn" type="button" onClick="getDetails(@r.Id.ToString())">
        <img class="card-img-top" src="@r.Image" alt="Recipe Image">
        <div class="card-body">
            <h4 class="card-title"> @r.Title </h4>
        </div>
    </button>
    
    <button type="button"
            class="btn btn-outline-success btn-sm"
            style="display:inline-block"
            onclick="addFavorite('@r.Id')">
        Favorite
    </button>
   
    <button type="button"
            class="btn btn-outline-danger btn-sm"
            style="display:inline-block"
            onclick="addShelf('@r.Id')">
        Shelf it
    </button>
    <p></p>
    @if (temp.Favorited ?? false)
    {
        <p style="display:inline-block"
        class="text-md-right text-danger"><i class="fa fa-heart"> </i></p>
    }
    <p style="display:inline-block"
        class="text-md-right text-warning" title="@r.Savedrecipes.Where(f => f.RecipeId == r.Id && f.Favorited != false).Count() user(s) favorited this recipe"><i class="fa fa-star"> </i> @r.Savedrecipes.Where(f => f.RecipeId == r.Id && f.Favorited != false).Count()</p>
</div>
    }
}
                    <div class="card shadow-lg">
                        <img class="card-img-top" src="@r.Image" alt="Recipe Image">
                        @if (temp.Favorited ?? false)
                        {
    <div class="card-img-overlay">
        <h3 class="text-md-right p-1 text-danger bg-dark d-inline shadow-lg">
            <i class="fa fa-heart"> </i>
        </h3>
    </div>}

                        <div class="card-body">
                            <h4 class="card-title"> @r.Title </h4>
                        </div>
                        <div class="card-footer">
                            <div class="btn-group btn-group-lg w-100">
                                <button type="button"
                                        class="btn btn-outline-success"
                                        style="display:inline-block"
                                        onclick="addFavorite('@r.Id')" title="Favorite recipe">
                                    <i class="fa fa-heart"></i>
                                </button>

                                <button type="button"
                                        class="btn btn-outline-danger"
                                        style="display:inline-block"
                                        onclick="addShelf('@r.Id')" title="Shelf recipe">
                                    <i class="fa fa-stop"></i>
                                </button>
                                <button class="btn btn-outline-primary" onclick="getDetails('@r.Id')" type="button" title="Get information">
                                    <i class="fa fa-info"> </i>
                                </button>
                            </div>
                        </div>
                    </div>}}
@if (Model == null)
{
<p>No results found!</p>}